{"ast":null,"code":"import * as d3 from 'd3';\nconst MARGIN = {\n  TOP: 10,\n  BOTTOM: 80,\n  LEFT: 70,\n  RIGHT: 10\n};\nconst WIDTH = 500 - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 300 - MARGIN.TOP - MARGIN.BOTTOM;\n\nclass D3Chart {\n  constructor(element, data) {\n    let vis = this;\n    vis.data = data;\n    vis.g = d3.select(element).append(\"svg\").attr(\"width\", WIDTH + MARGIN.LEFT + MARGIN.RIGHT).attr(\"height\", HEIGHT + MARGIN.TOP + MARGIN.BOTTOM).append(\"g\").attr(\"transform\", `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`); // need to clean up data.\n\n    vis.data.forEach(d => {\n      d.Year = d.Month.substr(0, 4);\n      d.Month = d.Month.substr(5, 2);\n    });\n    vis.data.forEach(d => {\n      d.NewDate = new Date(d.Year, d.Month, '01');\n    });\n    console.log(vis.data); //\n    // var groupedData = d3.group()\n    //   .key(function (d) { console.log(d.Year); return d.Year; })\n    //   .entries(vis.data);\n    //\n    // console.log(groupedData)\n\n    var cars = [{\n      name: \"car1\",\n      manufactured: \"1950\",\n      model: \"s51\"\n    }, {\n      name: \"car1\",\n      manufactured: \"1950\",\n      model: \"s51\"\n    }, {\n      name: \"car1\",\n      manufactured: \"1951\",\n      model: \"s50\"\n    }, {\n      name: \"car1\",\n      manufactured: \"1951\",\n      model: \"s50\"\n    }];\n    var groupedData = d3.nest().key(function (d) {\n      return d.manufactured;\n    }).entries(cars);\n    console.log(\"ArrayData :\", groupedData);\n    console.log(\"ArrayData[0] :\", groupedData[0]);\n    console.log(\"ArrayData[1] :\", groupedData[1]); // vis.x = d3.scaleLinear()\n    // \t.domain([0 , d3.max(vis.data, d => Number(d.age))])\n    // \t.range([0, WIDTH])\n    //\n    // vis.y = d3.scaleLinear()\n    // \t.domain([0, d3.max(vis.data, d => Number(d.height))])\n    // \t.range([HEIGHT, 0 ])\n    //\n    // console.log(vis.x(6))\n\n    vis.update();\n  }\n\n  update() {\n    let vis = this;\n  }\n\n}\n\nexport default D3Chart;","map":{"version":3,"sources":["/Users/andyalexander/Documents/d3/React/reactfordataviz/src/D3Chart.js"],"names":["d3","MARGIN","TOP","BOTTOM","LEFT","RIGHT","WIDTH","HEIGHT","D3Chart","constructor","element","data","vis","g","select","append","attr","forEach","d","Year","Month","substr","NewDate","Date","console","log","cars","name","manufactured","model","groupedData","nest","key","entries","update"],"mappings":"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","sourcesContent":["import * as d3 from 'd3'\n\nconst MARGIN = { TOP: 10, BOTTOM: 80, LEFT: 70, RIGHT: 10 }\nconst WIDTH = 500 - MARGIN.LEFT - MARGIN.RIGHT\nconst HEIGHT = 300 - MARGIN.TOP - MARGIN.BOTTOM\n\nclass D3Chart {\n\tconstructor(element, data) {\n\t\tlet vis = this\n\n    vis.data = data;\n\n\t\tvis.g = d3.select(element)\n\t\t\t.append(\"svg\")\n\t\t\t\t.attr(\"width\", WIDTH + MARGIN.LEFT + MARGIN.RIGHT)\n\t\t\t\t.attr(\"height\", HEIGHT + MARGIN.TOP + MARGIN.BOTTOM)\n\t\t\t.append(\"g\")\n\t\t\t\t.attr(\"transform\", `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`)\n\n\n\n    // need to clean up data.\n\t\tvis.data.forEach(d => {\n\t    d.Year = d.Month.substr(0,4)\n\t\t\td.Month = d.Month.substr(5,2)\n\t  })\n\t\tvis.data.forEach(d => {\n\t\t\td.NewDate = new Date(d.Year, d.Month, '01')\n\t\t})\n\n\t\tconsole.log(vis.data)\n\n\t\t//\n\t\t// var groupedData = d3.group()\n    //   .key(function (d) { console.log(d.Year); return d.Year; })\n    //   .entries(vis.data);\n\t\t//\n\t\t// console.log(groupedData)\n\n\t\tvar cars = [\n            { name: \"car1\", manufactured: \"1950\", model: \"s51\" },\n            { name: \"car1\", manufactured: \"1950\", model: \"s51\" },\n            { name: \"car1\", manufactured: \"1951\", model: \"s50\" },\n            { name: \"car1\", manufactured: \"1951\", model: \"s50\" },\n        ];\n        var groupedData = d3.nest()\n            .key(function (d) { return d.manufactured; })\n            .entries(cars);\n        console.log(\"ArrayData :\", groupedData);\n        console.log(\"ArrayData[0] :\", groupedData[0]);\n        console.log(\"ArrayData[1] :\", groupedData[1]);\n\n\t\t// vis.x = d3.scaleLinear()\n\t\t// \t.domain([0 , d3.max(vis.data, d => Number(d.age))])\n\t\t// \t.range([0, WIDTH])\n    //\n\t \t// vis.y = d3.scaleLinear()\n\t\t// \t.domain([0, d3.max(vis.data, d => Number(d.height))])\n\t\t// \t.range([HEIGHT, 0 ])\n    //\n\t\t// console.log(vis.x(6))\n\t\tvis.update()\n\t}\n\n\tupdate() {\n\t\tlet vis = this\n\n\t}\n}\n\nexport default D3Chart\n"]},"metadata":{},"sourceType":"module"}