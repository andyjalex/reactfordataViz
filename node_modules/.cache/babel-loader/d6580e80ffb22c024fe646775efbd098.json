{"ast":null,"code":"import * as d3 from 'd3';\nconst MARGIN = {\n  TOP: 10,\n  BOTTOM: 80,\n  LEFT: 70,\n  RIGHT: 10\n};\nconst WIDTH = 500 - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 300 - MARGIN.TOP - MARGIN.BOTTOM;\n\nclass D3Chart {\n  constructor(element, data) {\n    let vis = this;\n    vis.data = data;\n    vis.g = d3.select(element).append(\"svg\").attr(\"width\", WIDTH + MARGIN.LEFT + MARGIN.RIGHT).attr(\"height\", HEIGHT + MARGIN.TOP + MARGIN.BOTTOM).append(\"g\").attr(\"transform\", `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`); //need to clean up data.\n\n    vis.data.forEach(d => {\n      d.Year = d.Month.substr(0, 4);\n      d.Month = d.Month.substr(5, 2);\n    });\n    vis.data.forEach(d => {\n      d.NewDate = new Date(d.Year, d.Month, '01');\n    });\n    var newArray = [];\n    vis.data.forEach(d => {\n      newArray.push({\n        Date: d.NewDate,\n        Breed: 'West',\n        Score: d.West\n      });\n      newArray.push({\n        Date: d.NewDate,\n        Breed: 'Labrador',\n        Score: d.Labrador\n      });\n    });\n    console.log(vis.data); //console.log(newArray)\n    // scales\n\n    const x = d3.scaleTime().range([0, WIDTH]);\n    const y = d3.scaleLinear().range([HEIGHT, 0]); // axis generators\n\n    const xAxisCall = d3.axisBottom();\n    const yAxisCall = d3.axisLeft().ticks(6).tickFormat(d3.format('.3s')); // axis groups\n\n    const xAxis = vis.g.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", `translate(0, ${HEIGHT})`);\n    const yAxis = vis.g.append(\"g\").attr(\"class\", \"y axis\");\n    vis.update(newArray);\n  }\n\n  update(data) {\n    let vis = this;\n    console.log(data);\n  }\n\n}\n\nexport default D3Chart;","map":{"version":3,"sources":["/Users/andyalexander/Documents/d3/React/reactfordataviz/src/D3Chart.js"],"names":["d3","MARGIN","TOP","BOTTOM","LEFT","RIGHT","WIDTH","HEIGHT","D3Chart","constructor","element","data","vis","g","select","append","attr","forEach","d","Year","Month","substr","NewDate","Date","newArray","push","Breed","Score","West","Labrador","console","log","x","scaleTime","range","y","scaleLinear","xAxisCall","axisBottom","yAxisCall","axisLeft","ticks","tickFormat","format","xAxis","yAxis","update"],"mappings":"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","sourcesContent":["import * as d3 from 'd3'\n\nconst MARGIN = { TOP: 10, BOTTOM: 80, LEFT: 70, RIGHT: 10 }\nconst WIDTH = 500 - MARGIN.LEFT - MARGIN.RIGHT\nconst HEIGHT = 300 - MARGIN.TOP - MARGIN.BOTTOM\n\nclass D3Chart {\n\tconstructor(element, data) {\n\t\tlet vis = this\n\n    vis.data = data;\n\n\t\tvis.g = d3.select(element)\n\t\t\t.append(\"svg\")\n\t\t\t\t.attr(\"width\", WIDTH + MARGIN.LEFT + MARGIN.RIGHT)\n\t\t\t\t.attr(\"height\", HEIGHT + MARGIN.TOP + MARGIN.BOTTOM)\n\t\t\t.append(\"g\")\n\t\t\t\t.attr(\"transform\", `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`)\n\n\n\n    //need to clean up data.\n\t\tvis.data.forEach(d => {\n\t    d.Year = d.Month.substr(0,4)\n\t\t\td.Month = d.Month.substr(5,2)\n\t  })\n\t\tvis.data.forEach(d => {\n\t\t\td.NewDate = new Date(d.Year, d.Month, '01')\n\t\t})\n\n\t\tvar newArray = []\n\n\t\tvis.data.forEach(d => {\n\t\t\tnewArray.push({Date: d.NewDate, Breed: 'West', Score: d.West,})\n\t\t\tnewArray.push({Date: d.NewDate, Breed: 'Labrador', Score: d.Labrador})\n\t\t})\n\n\n\n\t\tconsole.log(vis.data)\n\t\t//console.log(newArray)\n\n\t\t// scales\n\t\tconst x = d3.scaleTime().range([0, WIDTH])\n\t\tconst y = d3.scaleLinear().range([HEIGHT, 0])\n\n\n\t\t// axis generators\n\t\tconst xAxisCall = d3.axisBottom()\n\t\tconst yAxisCall = d3.axisLeft()\n\t\t\t.ticks(6)\n\t\t\t.tickFormat(d3.format('.3s'))\n\n\t\t// axis groups\n\t\tconst xAxis = vis.g.append(\"g\")\n\t\t\t.attr(\"class\", \"x axis\")\n\t\t\t.attr(\"transform\", `translate(0, ${HEIGHT})`)\n\t\tconst yAxis = vis.g.append(\"g\")\n\t\t\t.attr(\"class\", \"y axis\")\n\n\n\t\tvis.update(newArray)\n\t}\n\n\tupdate(data) {\n\t\tlet vis = this\n\n\t\tconsole.log(data)\n\n\n\n\t}\n}\n\nexport default D3Chart\n"]},"metadata":{},"sourceType":"module"}