{"ast":null,"code":"var _jsxFileName = \"/Users/andyalexander/Documents/d3/React/reactfordataviz/src/components/ChartWrapper.js\";\nimport React, { Component } from 'react';\nimport D3Chart from './D3Chart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ChartWrapper extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      width: 200,\n      height: 200\n    };\n    this.measure = this.measure.bind(this);\n  }\n\n  componentDidMount() {\n    //console.log(this.props.data)\n    this.setState({\n      chart: new D3Chart(this.refs.chart, this.props.data, this.props.breed)\n    });\n    window.addEventListener('resize', this.measure, false);\n    console.log(this.state);\n  }\n\n  measure() {\n    let rect = this.container.getBoundingClientRect();\n\n    if (this.state.width !== rect.width || this.state.height !== rect.height) {\n      this.setState({\n        width: rect.width,\n        height: rect.height\n      });\n    }\n\n    console.log('after measure');\n  }\n\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.state.chart.update(nextProps.data, nextProps.breed);\n  }\n\n  render() {\n    //console.log(this.ref.chart)\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-area\",\n      ref: \"chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 12\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/andyalexander/Documents/d3/React/reactfordataviz/src/components/ChartWrapper.js"],"names":["React","Component","D3Chart","ChartWrapper","constructor","props","context","state","width","height","measure","bind","componentDidMount","setState","chart","refs","data","breed","window","addEventListener","console","log","rect","container","getBoundingClientRect","shouldComponentUpdate","UNSAFE_componentWillReceiveProps","nextProps","update","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,eAAe,MAAMC,YAAN,SAA2BF,SAA3B,CAAqC;AAElDG,EAAAA,WAAW,CAAEC,KAAF,EAASC,OAAT,EAAkB;AAC3B,UAAMD,KAAN,EAAaC,OAAb;AACA,SAAKC,KAAL,GAAa;AACNC,MAAAA,KAAK,EAAE,GADD;AAENC,MAAAA,MAAM,EAAE;AAFF,KAAb;AAIA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAf;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB;AACA,SAAKC,QAAL,CAAc;AACZC,MAAAA,KAAK,EAAE,IAAIZ,OAAJ,CAAY,KAAKa,IAAL,CAAUD,KAAtB,EAA6B,KAAKT,KAAL,CAAWW,IAAxC,EAA8C,KAAKX,KAAL,CAAWY,KAAzD;AADK,KAAd;AAIAC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKT,OAAvC,EAAgD,KAAhD;AAEAU,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKd,KAAjB;AACD;;AAEDG,EAAAA,OAAO,GAAI;AACT,QAAIY,IAAI,GAAG,KAAKC,SAAL,CAAeC,qBAAf,EAAX;;AACA,QAAG,KAAKjB,KAAL,CAAWC,KAAX,KAAqBc,IAAI,CAACd,KAA1B,IAAmC,KAAKD,KAAL,CAAWE,MAAX,KAAsBa,IAAI,CAACb,MAAjE,EAAwE;AACrE,WAAKI,QAAL,CAAc;AACPL,QAAAA,KAAK,EAAEc,IAAI,CAACd,KADL;AAEPC,QAAAA,MAAM,EAAEa,IAAI,CAACb;AAFN,OAAd;AAIF;;AACDW,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACD;;AAEDI,EAAAA,qBAAqB,GAAI;AACvB,WAAO,KAAP;AACD;;AAEDC,EAAAA,gCAAgC,CAAEC,SAAF,EAAa;AAC3C,SAAKpB,KAAL,CAAWO,KAAX,CAAiBc,MAAjB,CAAwBD,SAAS,CAACX,IAAlC,EAAwCW,SAAS,CAACV,KAAlD;AACD;;AAEDY,EAAAA,MAAM,GAAG;AACP;AACA,wBAAO;AAAK,MAAA,SAAS,EAAE,YAAhB;AAA6B,MAAA,GAAG,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AA5CiD","sourcesContent":["import React, { Component } from 'react';\nimport D3Chart from './D3Chart'\n\nexport default class ChartWrapper extends Component {\n\n  constructor (props, context) {\n    super(props, context);\n    this.state = {\n           width: 200,\n           height: 200\n        };\n    this.measure = this.measure.bind(this);\n  }\n\n  componentDidMount() {\n    //console.log(this.props.data)\n    this.setState({\n      chart: new D3Chart(this.refs.chart, this.props.data, this.props.breed)\n    })\n\n    window.addEventListener('resize', this.measure, false);\n\n    console.log(this.state)\n  }\n\n  measure () {\n    let rect = this.container.getBoundingClientRect();\n    if(this.state.width !== rect.width || this.state.height !== rect.height){\n       this.setState({\n              width: rect.width,\n              height: rect.height\n           });\n    }\n    console.log('after measure')\n  }\n\n  shouldComponentUpdate () {\n    return false\n  }\n\n  UNSAFE_componentWillReceiveProps (nextProps) {\n    this.state.chart.update(nextProps.data, nextProps.breed)\n  }\n\n  render() {\n    //console.log(this.ref.chart)\n    return <div className =\"chart-area\" ref=\"chart\"></div>\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}